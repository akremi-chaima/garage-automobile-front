<app-header [isPublic]="true"></app-header>
<main>
  <app-header-carousel [pictures]="pictures" [title]="'Contactez-nous'"></app-header-carousel>
  <div class="contact-card">
    <h5 class="underline-text dark-gray-text pb-3"><i class="bi bi-person-lines-fill"></i> Vos coordonnées</h5>
    <form [formGroup]="form" *ngIf="form">
      <div class="form-group mb-3">
        <input type="text" class="form-control" formControlName="name" placeholder="Nom">
        <p class="error-message" *ngIf="formSubmitted && form.controls['name'].errors">{{ getError('name') }}</p>
      </div>

      <div class="form-group mb-3">
        <input type="email" class="form-control" formControlName="email" placeholder="Email">
        <p class="error-message" *ngIf="formSubmitted && form.controls['email'].errors">{{ getError('email') }}</p>
      </div>

      <div class="form-group mb-3">
        <input type="text" class="form-control" formControlName="phoneNumber" placeholder="Téléphone">
        <p class="error-message" *ngIf="formSubmitted && form.controls['phoneNumber'].errors">{{ getError('phoneNumber') }}</p>
      </div>

      <div class="form-group mb-3">
        <textarea class="form-control" formControlName="message" placeholder="Votre besoin" rows="8"></textarea>
        <p class="error-message" *ngIf="formSubmitted && form.controls['message'].errors">{{ getError('message') }}</p>
      </div>

      <button type="submit" class="btn btn-outline-success" (click)="save()">Envoyer</button>
    </form>

    <div class="container">
      <div class="row row-cols-2">
        <div class="col">
          <h5 class="underline-text dark-gray-text"><i class="bi bi-calendar3"></i> Horaires d'ouverture</h5>
          <div class="row mt-3" *ngFor="let openingHour of openingHours">
            <div class="col-3 bold-text underline-text gray-text">{{ openingHour.day }}</div>
            <div class="col-1"></div>
            <div class="col-8 gray-text" *ngIf="formattingOpeningHours(openingHour.morningStartHour, openingHour.morningEndHour) !== '' && formattingOpeningHours(openingHour.afternoonStartHour, openingHour.afternoonEndHour) !== ''">
              {{ formattingOpeningHours(openingHour.morningStartHour, openingHour.morningEndHour) + ' / ' + formattingOpeningHours(openingHour.afternoonStartHour, openingHour.afternoonEndHour)}}
            </div>
            <div class="col-6 gray-text" *ngIf="formattingOpeningHours(openingHour.morningStartHour, openingHour.morningEndHour) !== '' && formattingOpeningHours(openingHour.afternoonStartHour, openingHour.afternoonEndHour) == ''">
              {{ formattingOpeningHours(openingHour.morningStartHour, openingHour.morningEndHour) }}
            </div>
            <div class="col-6 gray-text" *ngIf="formattingOpeningHours(openingHour.morningStartHour, openingHour.morningEndHour) == '' && formattingOpeningHours(openingHour.afternoonStartHour, openingHour.afternoonEndHour) == ''">
              Fermé
            </div>
          </div>
        </div>
        <div class="col address">
          <h5 class="underline-text dark-gray-text"><i class="bi bi-map-fill"></i> Adresse</h5>
          <p class="bold-text mt-3 gray-text">26 Rue Chevalier Paul</p>
          <p class="bold-text gray-text">13002 Marseille</p>
          <p class="gray-text">
            <i class="bi bi-telephone-fill"></i> 04 00 00 00 00
          </p>
          <p class="gray-text">
            <i class="bi bi-envelope-at-fill"></i> contact&#64;gmail.com
          </p>
        </div>
      </div>
    </div>
  </div>
</main>
